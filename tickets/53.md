# Отличия мультипроцессоров и мультикомпьютеров

В любой параллельной компьютерной системе процессоры, выполняющие разные
части единого задания, должны как-то взаимодействовать друг с другом, чтобы
обмениваться информацией. Как именно должен происходить обмен? Для этого
было предложено и реализовано две стратегии: мультипроцессоры и мультиком-
пьютеры. Ключевое различие между стратегиями состоит в наличии или отсут-
ствии общей памяти. Это различие сказывается как на конструкции, устройстве
и программировании таких систем, так и на их стоимости и размерах.

Параллельный компьютер, в котором все процессоры совместно используют об-
щую физическую память, называется **мультипроцессором**, или системой с общей
памятью. Все процессы, работающие в мультипроцессоре совместно,
могут иметь единое виртуальное адресное пространство, отображенное на общую
память. Любой процесс с помощью команд LOAD и STORE может считать слово из
памяти или записать слово в память. Больше ничего не требуется. Два процесса
имеют возможность легко обмениваться информацией — для этого один из них
просто записывает данные в общую память, а другой их считывает.
Благодаря возможности взаимодействия двух и более процессов мультипро-
цессоры весьма популярны. Данная модель понятна программистам и позволя-
ет решать широкий круг задач. Поскольку все процессоры в мультипроцессоре используют 
единое адресное пространство, функционирует только одна копия операционной системы.
Соответственно, имеется только одна карта страниц памяти и одна таблица
процессов. Когда процесс блокируется, его процессор сохраняет свое состояние
в таблицах операционной системы, а затем просматривает эти таблицы в поисках
другого процесса, который нужно запустить. Именно такая организация, в основе
которой лежит единая система, и отличает мультипроцессор от мультикомпьютера,
в котором каждый компьютер имеет собственную копию операционной системы.

Во втором варианте параллельной архитектуры каждый процессор имеет 
собственную память, доступную только этому процессору. Такая схема называется
**мультикомпьютером**, или системой с распределенной памятью.
Ключевое отличие мультикомпьютера от мультипроцессора состоит в том, что
каждый процессор в мультикомпьютере имеет собственную локальную память,
к которой этот процессор может обращаться, выполняя команды LOAD и STORE, но
никакой другой процессор с помощью этих команд не может получить доступ
к локальной памяти данного процессора. Таким образом, мультипроцессоры имеют 
одно физическое адресное пространство, разделяемое всеми процессорами,
а мультикомпьютеры содержат отдельные физические адресные пространства
для каждого процессора.

Поскольку процессоры в мультикомпьютере не могут взаимодействовать друг
с другом простыми обращениями к общей памяти, процессоры обмениваются 
сообщениями через связывающую их коммуникационную сеть. В мультикомпьютере невозможно иметь
единое для всех процессоров виртуальное адресное пространство, позволяющее
считывать и записывать информацию командами LOAD и STORE. 
Поэтому программное обеспечение мультикомпьютера имеет более сложную структуру, 
чем программное обеспечение мультипроцессора. При этом основной проблемой становится правильное распределение
данных и разумное их размещение. Это еще одно отличие мультикомпьютера от
мультипроцессора, где размещение данных не влияет на правильность решения
задачи, хотя может повлиять на производительность.
Короче говоря, мультикомпьютер программировать гораздо сложнее, чем мультипроцессор.
Возникает вопрос: зачем вообще создавать мультикомпьютеры, если муль-
типроцессоры гораздо проще программировать? Ответ прост: создать большой
мультикомпьютер проще и дешевле, чем мультипроцессор с таким же количеством
процессоров. Реализация общей памяти, совместно используемой несколькими
сотнями процессоров, — это весьма сложная задача, а разработать мультикомпью-
тер, содержащий 10 000 процессоров и более, довольно легко. 
Таким образом, мы сталкиваемся с дилеммой: мультипроцессоры сложно
разрабатывать, но легко программировать, а мультикомпьютеры легко строить,
но трудно программировать.